{
  
    
        "post0": {
            "title": "",
            "content": "#collapse-hide #!pip install geopandas #!apt-get install poppler-utils #!pip install pdf2image . . #collapse-hide import geopandas import matplotlib.pyplot as plt from mpl_toolkits.axes_grid1 import make_axes_locatable from pdf2image import convert_from_path, convert_from_bytes from pdf2image.exceptions import ( PDFInfoNotInstalledError, PDFPageCountError, PDFSyntaxError ) from PIL import Image . . Introduction to Zonas B&#225;sicas de Salud in the Comunidad de Madrid . The Comunidad de Madrid provides information about and maps of the basic health areas . División territorial en zonas básicas de salud de la Comunidad de Madrid . https://datos.comunidad.madrid/catalogo/dataset/covid19_tia_zonas_basicas_salud/resource/f1837bd3-a835-4110-9bbf-fae06c99b56b . &#39;Shape&#39; files of the basic health areas . df=geopandas.read_file(&#39;./maps/zonas_basicas_salud.shp&#39;) df.head() . codigo_geo pob_pad19 zona_basic geometry . 0 001 | 30748 | Abrantes | POLYGON ((439068.758 4470731.661, 439076.433 4... | . 1 002 | 19432 | Acacias | POLYGON ((439924.930 4472798.281, 439928.742 4... | . 2 003 | 29168 | Adelfas | POLYGON ((443455.718 4472836.724, 443412.985 4... | . 3 004 | 21274 | Alameda | POLYGON ((440659.754 4473778.401, 440665.227 4... | . 4 005 | 29001 | Alameda de Osuna | POLYGON ((452408.138 4484644.700, 452415.138 4... | . df.columns . Index([&#39;codigo_geo&#39;, &#39;pob_pad19&#39;, &#39;zona_basic&#39;, &#39;geometry&#39;], dtype=&#39;object&#39;) . df.info() . &lt;class &#39;geopandas.geodataframe.GeoDataFrame&#39;&gt; RangeIndex: 286 entries, 0 to 285 Data columns (total 4 columns): # Column Non-Null Count Dtype -- -- 0 codigo_geo 286 non-null object 1 pob_pad19 286 non-null int64 2 zona_basic 286 non-null object 3 geometry 286 non-null geometry dtypes: geometry(1), int64(1), object(2) memory usage: 9.1+ KB . plt.hist(df.pob_pad19) plt.title(&#39;Distribution of population by areas&#39;) plt.ylabel(&#39;Number of areas&#39;) plt.xlabel(&#39;Population&#39;); . df.describe() . pob_pad19 . count 286.000000 | . mean 23298.580420 | . std 9935.956169 | . min 2636.000000 | . 25% 16702.250000 | . 50% 21829.000000 | . 75% 28164.250000 | . max 63789.000000 | . df[df.pob_pad19==df.pob_pad19.min()] . codigo_geo pob_pad19 zona_basic geometry . 221 222 | 2636 | Rascafría | POLYGON ((436250.375 4539098.529, 436255.925 4... | . df[df.pob_pad19==df.pob_pad19.max()] . codigo_geo pob_pad19 zona_basic geometry . 158 159 | 63789 | Mar Báltico | POLYGON ((447970.223 4484559.958, 447972.423 4... | . There are 286 basic health zones, with an average population of around 23_000 people: the Rascafría area has only 2_636 people; the Mar Báltico area has 63_789 people. . df[&quot;area&quot;] = df[&#39;geometry&#39;].area df[&#39;pob_densidad&#39;] = 100000*df.pob_pad19/df.area df.head() . codigo_geo pob_pad19 zona_basic geometry area pob_densidad . 0 001 | 30748 | Abrantes | POLYGON ((439068.758 4470731.661, 439076.433 4... | 1.572304e+06 | 1955.600930 | . 1 002 | 19432 | Acacias | POLYGON ((439924.930 4472798.281, 439928.742 4... | 7.741107e+05 | 2510.235189 | . 2 003 | 29168 | Adelfas | POLYGON ((443455.718 4472836.724, 443412.985 4... | 8.528277e+05 | 3420.151457 | . 3 004 | 21274 | Alameda | POLYGON ((440659.754 4473778.401, 440665.227 4... | 5.452036e+05 | 3902.028813 | . 4 005 | 29001 | Alameda de Osuna | POLYGON ((452408.138 4484644.700, 452415.138 4... | 3.513729e+07 | 82.536255 | . fig, (ax1, ax2) = plt.subplots(ncols=2, sharex=True, sharey=True, figsize=(12,6)) df.plot(ax=ax1, column=df.pob_pad19, cmap=&#39;Reds&#39;, legend=True) df.plot(ax=ax1, color=&#39;white&#39;, edgecolor=&#39;grey&#39;, alpha=0.1) ax1.set_title(&#39;Total population n by basic health area&#39;) ax1.axis(&#39;off&#39;) df.plot(ax=ax2, column=df.pob_densidad, cmap=&#39;Reds&#39;, legend=True) df.plot(ax=ax2, color=&#39;white&#39;, edgecolor=&#39;grey&#39;, alpha=0.1) ax2.set_title(&#39;Population density n by basic health area&#39;) ax2.axis(&#39;off&#39;); . df[df.pob_densidad==df.pob_densidad.min()] . codigo_geo pob_pad19 zona_basic geometry area pob_densidad . 221 222 | 2636 | Rascafría | POLYGON ((436250.375 4539098.529, 436255.925 4... | 2.581206e+08 | 1.021228 | . df[df.pob_densidad==df.pob_densidad.max()] . codigo_geo pob_pad19 zona_basic geometry area pob_densidad . 160 161 | 17331 | Martín de Vargas | POLYGON ((440449.700 4472841.620, 440459.695 4... | 307034.469165 | 5644.643107 | . Mapas de Zonas B&#225;sicas de Salud del &#193;rea &#218;nica de la Comunidad de Madrid . https://www.madrid.org/iestadis/fijas/estructu/general/territorio/estructucartemzbs.htm . (maps have been downloaded and stored in ./maps/...) . https://www.madrid.org/iestadis/fijas/estructu/general/territorio/descarga/zbs13_mar_baltico.pdf . #collapse-hide # Convert downloaded map from .pdf to .png #convert_from_path(&#39;./maps/zbs13_mar_baltico.pdf&#39;)[0].save(&#39;./maps/159_mar_baltico.png&#39;, dpi=(300,300)) #convert_from_path(&#39;./maps/zbs13_rascafria.pdf&#39;)[0].save(&#39;./maps/222_rascafria.png&#39;, dpi=(300,300)) #convert_from_path(&#39;./maps/zbs13_martin_de_vargas.pdf&#39;)[0].save(&#39;./maps/161_martin_de_vargas.png&#39;, dpi=(300,300)) . . Image.open(&#39;./maps/222_rascafria.png&#39;) .",
            "url": "https://alisondavey.github.io/fastpages/2020/09/27/2020-09-26-_09_27_intro_zonas_basicas_salud.html",
            "relUrl": "/2020/09/27/2020-09-26-_09_27_intro_zonas_basicas_salud.html",
            "date": " • Sep 27, 2020"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "This is where you put the contents of your About page. Like all your pages, it’s in Markdown format. . This website is powered by fastpages 1. . a blogging platform that natively supports Jupyter notebooks in addition to other formats. &#8617; . |",
          "url": "https://alisondavey.github.io/fastpages/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

}